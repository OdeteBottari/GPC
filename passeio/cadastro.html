<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscrição do usuário</title>
    <link rel="stylesheet" href="rostosite.css">
    
    <script>
    
function calculateAge() {
    const birthDateInput = document.getElementById('datanascimento').value;
    const birthDate = new Date(birthDateInput);
    
    // Validar se a data é válida
    if (isNaN(birthDate.getTime())) {
        alert("Por favor, insira uma data válida.");
        return;
    }
    
    const today = new Date();
    
    // Verificar se a data de nascimento é no futuro
    if (birthDate > today) {
        alert("A data de nascimento não pode ser no futuro.");
        return;
    }

    let age = today.getFullYear() - birthDate.getFullYear();
    const monthDifference = today.getMonth() - birthDate.getMonth();
    
    // Ajustar idade se o aniversário ainda não ocorreu este ano
    if (monthDifference < 0 || (monthDifference === 0 && today.getDate() < birthDate.getDate())) {
        age--;
    }
    
    document.getElementById('idade').value = age;
    setSubCategoria(age);
}

function setSubCategoria(age) {
    let subCategoria = '';
    
    if (age <= 11) subCategoria = 'Infantil';
    else if (age <= 14) subCategoria = 'Infantil Juvenil';
    else if (age <= 18) subCategoria = 'Juvenil';
    else if (age <= 30) subCategoria = 'Adulto 1';
    else if (age <= 40) subCategoria = 'Adulto 2';
    else if (age <= 50) subCategoria = 'Senior 1';
    else if (age <= 60) subCategoria = 'Senior 2';
    else if (age <= 70) subCategoria = 'Senior 3';
    else subCategoria = 'Master';
    
    document.getElementById('SubCategoria').value = subCategoria;
}

// Chame esta função ao carregar dados para edição
function loadDataForEditing(birthDateString) {
    document.getElementById('datanascimento').value = birthDateString;
    
    // Calcular idade e definir SubCategoria com base na data de nascimento carregada
    calculateAge();
}


    
    </script>

    
    <style>
        table {
            width:auto;
            border-collapse: collapse;
            align-content:center;
            border: 10px;
        }
        th {
            
            width: 700%;
            font-family: 'Courier New', Courier, monospace;
            
        }
        a {
            visibility: hidden;
        }
        h1{
            text-align: center;
            font-family:'Courier New', Courier, monospace;
        }

    </style>

</head>

<body>



    <form method="post" action="inscricao.php" id="registrationForm">


            <div class="container3">
            <a> style="opacity: 90%; background-color: green;"</a>
            <h1 style="color: white">Faça sua inscrição para o Passeio Ciclístico - IFMT</h1>
            </div>
    <div style="display: flex;">
            <div style="flex: 2" style="flex: 2;"></div>
            <div class="container" style="flex: 2;">
                <h2>CADASTRO</h2>
                <form id ="CADASTROForm">
                    
                    <div class="form-group">
                        <label for="nome">Nome Completo:</label>
                        <input type="text" id="nome" name="nome" required>
                    
                    
                    <div class="form-group">
                        <label for="sexo">Sexo:</label>
                        <select id="sexo" name="sexo" required>
                            <option>---------------</option>
                            <option value="Femenino">Femenino</option>
                            <option value="Masculino">Masculino</option>
                            <option value="Binario">Binario</option>
                        </select>
                    </div>
        
        
                    <div class="form-group">
                        <label for="email">E-mail: </label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="telefone">Telefone:</label>
                        <input type="text" id="telefone" name="telefone" required placeholder="(65) 99999-9999">
        
        
                    <div class="form-group">
                        <label for="cpf">Cpf:</label>
                        <input type="text" id="cpf" name="cpf" required placeholder="000.000.000-00">
                    </div>
        
                    <div class="form-group">
                        <label for="datanascimento">Data de Nascimento:</label>
                        <input type="date" id="datanascimento" name="datanascimento" onchange="calculateAge()" required>
                    </div>
        
                    <div class="form-group">
                        <label for="idade">Idade:</label>
                        <input type="number" id="idade" name="idade" onchange="calculateAge()" required>
                    
                    </div>

                    <div class="form-group">
                        <label for="categoria">Categoria</label>
                        <select id="categoria" name="categoria" required>
                            <option value="--------------">--------------</option>
                            <option value="Aluno IFMT">Aluno IFMT</option>
                            <option value="Professor IFMT">Professor IFMT</option>
                            <option value="Servidor IFMT">Servidor IFMT</option>
                            <option value="Comunidade Geral">Comunidade Geral</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="SubCategoria">SubCategoria</label>
                        <input type="text" id="SubCategoria" name="SubCategoria" onchange="setSubCategoria()" required>
                            
                    </div>
                    
                    <div class="form-group">
                        <label> Leu as regras e aceita os termos para participar do evento?</label>
                        <label><input type="radio" id="aceito" name="termo" value="1">Sim</label>
                    </div>

                    <div> 
                    <button type="submit" class="btn">Enviar</button>
                    </div>

                    <div style="flex: 2"></div>


                    footer {
                        margin-top: 9.5%;
                    }
                    </div>
                </form>
            </div>
    </div>
    </form>
</body>
</html>       